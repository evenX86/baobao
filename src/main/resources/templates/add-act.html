<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head th:include="header :: commonHead('体育社区 | 活动录入')"></head>
<body>
<div id="wrapper">
    <nav class="navbar-default navbar-static-side" role="navigation"
         th:include="header :: commonMenu('addActivity','活动添加')">
    </nav>
    <div id="page-wrapper" class="gray-bg">
        <div th:include="header::commonPageHead()"></div>
        <div class="row wrapper border-bottom white-bg page-heading">
            <div class="col-lg-10">
                <h2>活动录入</h2>
            </div>
        </div>
        <div class="wrapper wrapper-content animated fadeInRight">
            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox float-e-margins">
                        <div class="ibox-content">
                            <form method="post" class="form-horizontal" th:object="${activity}"
                                  action="/activity/saveActivity" enctype="multipart/form-data">
                                <div class="form-group"><label class="col-sm-2 control-label">社团名称</label>

                                    <div class="col-sm-10"><input name="name" type="text" th:value="${groupName}"
                                                                  class="form-control" disabled required=""></div>
                                </div>
                                <div class="hr-line-dashed"></div>
                                <div class="form-group"><label class="col-sm-2 control-label">活动地点</label>
                                    <div class="col-sm-10"><input name="addr" th:field="*{actAddr}" type="text"
                                                                  class="form-control" required=""></div>
                                </div>
                                <div class="hr-line-dashed"></div>

                                <div class="form-group" id="data_1">
                                    <label class="col-sm-2 control-label">活动时间</label>
                                    <div class="input-group date col-sm-10">
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>
                                        </span>
                                        <input type="text" th:field="*{actDate}" class="form-control"
                                               value="03/04/2014" required="">
                                    </div>
                                </div>
                                <div class="hr-line-dashed"></div>
                                <div class="form-group"><label class="col-sm-2 control-label">参与人数</label>

                                    <div class="col-sm-10">
                                        <input type="text" th:field="*{actPeopleNum}" name="num"
                                                                  class="form-control" onkeyup="this.value=this.value.replace(/\D/g,'')" required="">
                                    </div>
                                </div>
                                <div class="hr-line-dashed"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">结对社区</label>
                                    <div class="col-sm-10">
                                        <select class="form-control" id="communityOpt" th:field="*{community}">
                                            <option th:each="community : ${communityList}" th:value="${community}" th:text="${community}"></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="hr-line-dashed"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">结对项目</label>
                                    <div class="col-sm-10"><input name="desc" th:field="*{project}" type="text"
                                                                  class="form-control" required=""></div>
                                </div>
                                <div class="hr-line-dashed"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">活动简介</label>
                                    <div class="col-sm-10"><input name="desc" th:field="*{introduce}" type="text"
                                                                  class="form-control" required=""></div>
                                </div>
                                <div class="hr-line-dashed"></div>
                                <div class="form-group"><label class="col-lg-2 control-label">活动联系人</label>

                                    <div class="col-sm-10"><input type="text" th:field="*{actUser}" name="contacts"
                                                                  class="form-control" required=""></div>
                                </div>
                                <div class="hr-line-dashed"></div>
                                <div class="form-group"><label class="col-sm-2 control-label">联系方式</label>

                                    <div class="col-sm-10"><input type="text" th:field="*{actUserTel}" onkeyup="this.value=this.value.replace(/\D/g,'')" name="tel"
                                                                  class="form-control"  required=""/></div>
                                </div>
                                <div class="hr-line-dashed"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">备注</label>
                                    <div class="col-sm-10"><input name="desc" th:field="*{desc}" type="text"
                                                                  class="form-control"></div>
                                </div>
                                <div class="hr-line-dashed"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">图片上传</label>
                                    <div class="col-sm-10">
                                        <label title="Upload image file" for="inputImage1"
                                               class="btn btn-primary">
                                            <input type="file" accept="image/*" name="file1" id="inputImage1"
                                                   class="hide" >
                                            选取文件
                                        </label>
                                        <img src="" id="inputImagePreview1" width="200px" height="200px" style="display: none">
                                    </div>
                                </div>
                                <div class="hr-line-dashed"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">图片上传</label>
                                    <div class="col-sm-10">
                                        <label title="Upload image file" for="inputImage2"
                                               class="btn btn-primary">
                                            <input type="file" accept="image/*" name="file2" id="inputImage2"
                                                   class="hide">
                                            选取文件
                                        </label>
                                        <img src="" id="inputImagePreview2" width="200" style="display: none">
                                    </div>
                                </div>
                                <div class="hr-line-dashed"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">图片上传</label>
                                    <div class="col-sm-10">
                                        <label title="Upload image file" for="inputImage3"
                                               class="btn btn-primary">
                                            <input type="file" accept="image/*" name="file3" id="inputImage3"
                                                   class="hide">
                                            选取文件
                                        </label>
                                        <img src="" id="inputImagePreview3" width="200">
                                    </div>
                                </div>
                                <div class="hr-line-dashed"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">图片上传</label>
                                    <div class="col-sm-10">
                                        <label title="Upload image file" for="inputImage4"
                                               class="btn btn-primary">
                                            <input type="file" accept="image/*" name="file4" id="inputImage4"
                                                   class="hide">
                                            选取文件
                                        </label>
                                        <img src="" id="inputImagePreview4" width="200">
                                    </div>
                                </div>

                                <div class="hr-line-dashed"></div>
                                <div class="form-group">
                                    <div class="col-sm-4 col-sm-offset-2">
                                        <button class="btn btn-white" type="submit">取消</button>
                                        <button class="btn btn-primary" type="submit">提交</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer" th:include="footer::footer"></div>
    </div>
</div>

<span th:include="common_js:: commonOnLoadJs"></span>
<script>
    $(document).ready(function () {
        $('#data_1 .input-group.date').datepicker({
            todayBtn: "linked",
            keyboardNavigation: false,
            forceParse: false,
            calendarWeeks: true,
            autoclose: true,
            language:"zh-CN"
        });
        var $image1 = $("#inputImagePreview1")
        var $inputImage1 = $("#inputImage1");
        var $image2 = $("#inputImagePreview2")
        var $inputImage2 = $("#inputImage2");
        var $image3 = $("#inputImagePreview3")
        var $inputImage3 = $("#inputImage3");
        var $image4 = $("#inputImagePreview4")
        var $inputImage4 = $("#inputImage4");
        if (window.FileReader) {
            $inputImage1.change(function () {
                $image1.css("display", "block");
                var objUrl = getObjectURL(this.files[0]) ;
                if (objUrl) {
                    $image1.attr("src", objUrl) ;
                }
            });
            $inputImage2.change(function () {
                $image2.css("display", "block");
                var objUrl = getObjectURL(this.files[0]) ;
                if (objUrl) {
                    $image2.attr("src", objUrl) ;
                }
            });
            $inputImage3.change(function () {
                $image3.css("display", "block");
                var objUrl = getObjectURL(this.files[0]) ;
                if (objUrl) {
                    $image3.attr("src", objUrl) ;
                }
            });
            $inputImage4.change(function () {
                $image4.css("display", "block");
                var objUrl = getObjectURL(this.files[0]) ;
                if (objUrl) {
                    $image4.attr("src", objUrl) ;
                }
            });
        }
        function getObjectURL(file) {
            var url = null ;
            if (window.createObjectURL!=undefined) { // basic
                url = window.createObjectURL(file) ;
            } else if (window.URL!=undefined) { // mozilla(firefox)
                url = window.URL.createObjectURL(file) ;
            } else if (window.webkitURL!=undefined) { // webkit or chrome
                url = window.webkitURL.createObjectURL(file) ;
            }
            return url ;
        }

    });
</script>
</body>

</html>
